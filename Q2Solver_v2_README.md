# Q2Solver_v2 使用指南

## 🚀 快速开始

### 基本运行（推荐）
```bash
python Q2Solver_v2.py
```
- **默认参数**：8个粒子，15次迭代
- **预计时间**：约10-30秒（根据CPU性能）
- **适用场景**：一般用户，获得合理结果

### 快速测试（开发调试）
```bash
python Q2Solver_v2.py --pop_size 3 --iterations 5
```
- **预计时间**：约2-5秒
- **适用场景**：快速验证代码功能

### 高精度计算（需要较长时间）
```bash
python Q2Solver_v2.py --pop_size 15 --iterations 30
```
- **预计时间**：约2-5分钟
- **适用场景**：需要更高精度的结果

## 📊 参数说明

### 主要参数
- `--pop_size`: 粒子群大小（推荐3-15）
  - 影响：计算时间和结果质量
  - 建议：8（平衡性能和质量）

- `--iterations`: 迭代次数（推荐5-50）
  - 影响：收敛质量和计算时间
  - 建议：15（平衡收敛和时间）

- `--workers`: 并行线程数
  - 默认：自动检测CPU核心数
  - 建议：保持默认以充分利用CPU

### 计算复杂度参数（已优化）
- 时间步长：`dt=0.002`（从0.0005调整）
- 角度采样：`nphi=240`（从960调整）
- Z轴采样：`nz=7`（从13调整）

## ⏱️ 性能对比

| 配置 | 粒子数 | 迭代数 | 预计时间 | 结果质量 |
|------|--------|--------|----------|----------|
| 快速测试 | 3 | 5 | 2-5秒 | 基础 |
| 默认配置 | 8 | 15 | 10-30秒 | 良好 |
| 高精度 | 15 | 30 | 2-5分钟 | 优秀 |
| 原配置 | 30 | 50 | 10-30分钟 | 极高 |

## 💡 使用建议

### 根据硬件选择配置
- **普通电脑**：使用默认配置（8粒子，15迭代）
- **高性能电脑**：可以使用15粒子，30迭代
- **测试/调试**：使用3粒子，5迭代

### 监控计算进度
程序会显示：
- 实时进度百分比
- 已用时间和预计剩余时间
- 当前最佳遮蔽时长

### 输出结果
- 控制台显示优化结果
- 详细结果保存到 `Q2Results.txt`

## 🔧 故障排除

### 计算时间过长
降低参数：
```bash
python Q2Solver_v2.py --pop_size 5 --iterations 10
```

### 内存不足
减少粒子数：
```bash
python Q2Solver_v2.py --pop_size 3 --workers 1
```

### 需要更高精度
增加参数：
```bash
python Q2Solver_v2.py --pop_size 12 --iterations 25
```

## 📈 预期结果

成功运行后，你将获得：
- 最优航向角（弧度）
- 最优飞行速度（m/s）
- 最优投放时间（s）
- 最优引信延时（s）
- 最大遮蔽时长（s）
- 爆炸点坐标

---

**注意**：参数设置需要根据你的硬件性能和时间预算进行调整。建议先用小参数测试，确认结果合理后再增加参数获取更优解。
